function fcl(){var a=document.getElementById("orderItem.volume").value;if(a!=""){var b=document.getElementById("orderItem.quantity").value;var c=document.getElementById("orderItem.nameSize").value;if(b==""){document.getElementById("orderItem.nameSize").value="";document.getElementById("orderItem.volume").value="";document.getElementById("orderItemVolume").value=""}if(c=="10 FOOTER"){var d=b*14}else{if(c=="20 FOOTER"){var d=b*28}else{if(c=="40 FOOTER"){var d=b*56}}}document.getElementById("orderItem.volume").value=d;document.getElementById("orderItemVolume").value=d}}function serviceValidate(){var a=document.getElementById("serviceReq");var b=a.options[a.selectedIndex].value;if(b=="FULL CARGO LOAD"){document.getElementById("item").style.display="none";document.getElementById("item-menu").style.display="none";document.getElementById("cargo-menu").style.display="block"}else{if(b=="LESS CARGO LOAD"||b=="LOOSE CARGO LOAD"||b=="ROLLING CARGO LOAD"){document.getElementById("cargo").style.display="none";document.getElementById("cargo-menu").style.display="none";document.getElementById("item-menu").style.display="block"}}}function typeValidate(){var b=document.getElementById("mode");var a=b.options[b.selectedIndex].value;if(a=="DOOR TO PIER"){$("#deliveryaddress").prop("disabled",true);$("#pickupaddress").prop("disabled",false);$("#datepicker1").prop("disabled",false);$("#datepicker2").prop("disabled",true)}else{if(a=="PIER TO DOOR"){$("#deliveryaddress").prop("disabled",false);$("#pickupaddress").prop("disabled",true);$("#datepicker1").prop("disabled",true);$("#datepicker2").prop("disabled",false)}else{if(a=="PIER TO PIER"){$("#datepicker1").prop("disabled",true);$("#datepicker2").prop("disabled",true);$("#pickupaddress").prop("disabled",true);$("#deliveryaddress").prop("disabled",true)}}}}function getMaxValue(a,b){if(b=="10 FOOTER"){if(a=="VOLUME"){return 14}else{if(a=="WEIGHT"){return 9000}}}else{if(b=="20 FOOTER"){if(a=="VOLUME"){return 28}else{if(a=="WEIGHT"){return 18000}}}else{if(b=="40 STD FOOTER"){if(a=="VOLUME"){return 56}else{if(a=="WEIGHT"){return 20000}}}else{if(b=="40 HC FOOTER"){if(a=="VOLUME"){return 78}else{if(a=="WEIGHT"){return 22000}}}}}}}function initValidationScript(g){var j,a,m=$('.mainTable tbody td input[type="checkbox"]'),f=$(".mainTable tbody tr td:nth-child(4)"),e=$(".mainTable tbody tr td:nth-child(5)"),k=$("#result"),l=$("#result-vol"),b=$("#containerType").val(),d=$("#submitBtn"),q=$(".containerItems tbody tr td:nth-child(3)"),n=$(".containerItems tbody tr td:nth-child(4)"),c,p;for(var h=0;h<$(".mainTable tbody tr").size();h++){f.eq(h).attr("id","val"+(h+1));e.eq(h).attr("id","val"+(h+1)+"-vol");m.eq(h).attr("class","val"+(h+1));if(m.eq(h).is(":checked")){a=parseFloat(k.text())+parseFloat(f.eq(h).text());j=parseFloat(l.text())+parseFloat(e.eq(h).text());k.empty().append(a);l.empty().append(j)}}$("#maxVol").empty().append(getMaxValue("VOLUME",b));$("#maxWt").empty().append(getMaxValue("WEIGHT",b));if(g=="CONSO_EDIT"){for(var o=0;o<$(".containerItems tbody tr").size();o++){c=parseFloat(n.eq(o).text())+parseFloat(l.text());p=parseFloat(q.eq(o).text())+parseFloat(k.text());k.empty().append(p);l.empty().append(c)}}m.change(function(){var r,s,w=parseFloat($("#maxWt").text()),u=parseFloat($("#maxVol").text()),v=$("#"+this.className),t=$("#"+this.className+"-vol");if($.isNumeric(v.text())&&$.isNumeric(t.text())){if(this.checked){r=parseFloat(k.text())+parseFloat(v.text());s=parseFloat(l.text())+parseFloat(t.text())}else{r=parseFloat(k.text())-parseFloat(v.text());s=parseFloat(l.text())-parseFloat(t.text())}}if(g=="CONSO_EDIT"){if(r==p||s==c||r>w||s>u){d.prop("disabled",true)}else{d.prop("disabled",false)}}else{if(r>w||s>u){d.prop("disabled",true);$("#finalBtn").addClass("disabled")}else{d.prop("disabled",false);$("#finalBtn").removeClass("disabled")}}if(r>w){r='<font color="red">'+r+"</font>"}if(s>u){s='<font color="red">'+s+"</font>"}if(r==0||s==0){d.prop("disabled",true);$("#finalBtn").addClass("disabled")}k.empty().append(r);l.empty().append(s)})}function resetBox(c){$('.mainTable tbody td input[type="checkbox"]').removeAttr("checked");if(c=="CONSO_EDIT"){var b=0,d=0;for(var a=0;a<$(".containerItems tbody tr").size();a++){b=parseFloat($(".containerItems tbody tr td:nth-child(4)").eq(a).text())+b;d=parseFloat($(".containerItems tbody tr td:nth-child(3)").eq(a).text())+d}$("#result").empty().append(d);$("#result-vol").empty().append(b);$("#submitBtn").prop("disabled",true)}else{$("#result").empty().append(0);$("#result-vol").empty().append(0)}}function tablePropClass(n,d,f,q,u,c,h,p){var s=$("."+d+" tbody tr");for(var o=0;o<s.size();o++){var v=$("."+d+" tbody tr td:nth-child("+f+")").eq(o).text(),m=$("."+d+" tbody tr td:nth-child("+q+")").eq(o),l=$("."+d+" tbody tr td:nth-child("+u+")").eq(o),j=$("."+d+" tbody tr td:nth-child("+c+")").eq(o),r=changeIcons(m.text()),a=reqAbbrev(l.text()),k=modeAbbrev(j.text());if(n=="DESTI_ORIG"){var e=$("."+d+" tbody tr td:nth-child("+p+")").eq(o),b=$("."+d+" tbody tr td:nth-child("+h+")").eq(o),g=placeAbbrev(e.text()),t=placeAbbrev(b.text());e.empty().append(g);b.empty().append(t)}s.eq(o).css("background-color",trColor(v));m.empty().append(r);l.empty().append(a);j.empty().append(k)}}function tableProp(q,e,g,t,x,d,l,s,k){var v=$("#"+e+" tbody tr");for(var r=0;r<v.size();r++){var y=$("#"+e+" tbody tr td:nth-child("+g+")").eq(r).text(),p=$("#"+e+" tbody tr td:nth-child("+t+")").eq(r),o=$("#"+e+" tbody tr td:nth-child("+x+")").eq(r),m=$("#"+e+" tbody tr td:nth-child("+d+")").eq(r),b=$("#"+e+" tbody tr td:nth-child("+k+")").eq(r),u=changeIcons(p.text()),a=reqAbbrev(o.text()),n=modeAbbrev(m.text()),j=dateAbbrev(b.text());if(q=="DESTI_ORIG"){var f=$("#"+e+" tbody tr td:nth-child("+s+")").eq(r),c=$("#"+e+" tbody tr td:nth-child("+l+")").eq(r),h=placeAbbrev(f.text()),w=placeAbbrev(c.text());f.empty().append(h);c.empty().append(w)}v.eq(r).css("background-color",trColor(y));p.empty().append(u);o.empty().append(a);m.empty().append(n);b.empty().append(j)}}function placeAbbrev(a){if(a=="MANILA"){return"MNL"}else{if(a=="BACOLOD"){return"BAC"}else{if(a=="BUTUAN"){return"BXU"}else{if(a=="CAGAYAN"){return"CGY"}else{if(a=="COTABATO"){return"CBO"}else{if(a=="DAVAO"){return"DVO"}else{if(a=="DUMAGUETE"){return"DGT"}else{if(a=="DIPOLOG"){return"DPG"}else{if(a=="GEN. SANTOS"){return"GES"}else{if(a=="ILIGAN"){return"ILI"}else{if(a=="ILOILO"){return"ILO"}else{if(a=="OZAMIS"){return"OZA"}else{if(a=="GEN. SANTOS"){return"GES"}else{if(a=="PALAWAN"){return"PPS"}else{if(a=="ROXAS"){return"RXS"}else{if(a=="TAGBILARAN"){return"TAG"}else{if(a=="TACLOBAN"){return"TAC"}else{if(a=="ZAMBOANGA"){return"ZAM"}else{if(a=="CEBU"){return"CEB"}else{return a}}}}}}}}}}}}}}}}}}}}function trColor(a){if(a=="PENDING"||a=="INCOMPLETE"){return"#f2a5aa"}else{if(a=="DISAPPROVED"||a=="CANCELLED"){return"#f2dede"}else{if(a=="APPROVED"||a=="SERVICE ACCOMPLISHED"){return"#dff0d8"}else{if(a=="ON GOING"){return"#bce8f1"}}}}}function changeIcons(a){if(a=="SHIPPING AND TRUCKING"){return"<i class='fa fa-anchor' /> <i class='fa fa-truck' />"}else{if(a=="SHIPPING"){return"<i class='fa fa-anchor' />"}else{if(a=="TRUCKING"){return"<i class='fa fa-truck' />"}else{return a}}}}function reqAbbrev(a){if(a=="FULL CARGO LOAD"||a=="FULL CONTAINER LOAD"){return"FCL"}else{if(a=="FULL TRUCK LOAD"){return"FTL"}else{if(a=="LESS TRUCK LOAD"){return"LTL"}else{if(a=="LESS CARGO LOAD"||a=="LESS CONTAINER LOAD"){return"LCL"}else{if(a=="LOOSE CARGO LOAD"){return"LCU"}else{if(a=="ROLLING CARGO LOAD"){return"RCU"}else{return a}}}}}}}function modeAbbrev(a){if(a=="DOOR TO DOOR"){return"DD"}else{if(a=="DOOR TO PIER"||a=="DOOR TO PORT"){return"DP"}else{if(a=="PIER TO DOOR"||a=="PORT TO DOOR"){return"PD"}else{if(a=="PIER TO PIER"||a=="PORT TO PORT"){return"PP"}else{if(a=="PICKUP"){return"P"}else{if(a=="DELIVERY"){return"D"}else{if(a=="INTER-WAREHOUSE"){return"IW"}else{return a}}}}}}}}function dateAbbrev(a){var c=a.split("-"),b;if(c[1]=="01"){b="JAN"}else{if(c[1]=="02"){b="FEB"}else{if(c[1]=="03"){b="MAR"}else{if(c[1]=="04"){b="APR"}else{if(c[1]=="05"){b="MAY"}else{if(c[1]=="06"){b="JUN"}else{if(c[1]=="07"){b="JUL"}else{if(c[1]=="08"){b="AUG"}else{if(c[1]=="09"){b="SEP"}else{if(c[1]=="10"){b="OCT"}else{if(c[1]=="11"){b="NOV"}else{if(c[1]=="12"){b="DEC"}else{b=c[1]}}}}}}}}}}}}return c[0].substr(2,4)+"-"+b+"-"+c[2]}function initTimestampAbbrev(a,e){var c=$("."+a+" tbody tr td:nth-child("+e+")");for(var b=0;b<c.size();b++){var d=c.eq(b).text().split(" ");if(d[0]!=""){c.eq(b).empty().append(dateAbbrev(d[0])+" "+d[1].substr(0,8))}}}function dateAbbrev_Format2(d,c){var b=$("#"+d+" tbody tr");for(var a=0;a<b.size();a++){var g=$("#"+d+" tbody tr td:nth-child("+c+")").eq(a),f=g.text().split("-"),e;if(f[0]=="01"){e="JAN"}else{if(f[0]=="02"){e="FEB"}else{if(f[0]=="03"){e="MAR"}else{if(f[0]=="04"){e="APR"}else{if(f[0]=="05"){e="MAY"}else{if(f[0]=="06"){e="JUN"}else{if(f[0]=="07"){e="JUL"}else{if(f[0]=="08"){e="AUG"}else{if(f[0]=="09"){e="SEP"}else{if(f[0]=="10"){e="OCT"}else{if(f[0]=="11"){e="NOV"}else{if(f[0]=="12"){e="DEC"}else{e=f[0]}}}}}}}}}}}}g.empty().append(f[1]+"-"+e+"-"+f[2].substr(2,4))}}function newlineHandler(b,c){var e=$("."+b+" tbody tr td:nth-child("+c+")"),a;for(var d=0;d<e.size();d++){a=e.eq(d).text().replace(/\n/g,"<br />");e.eq(d).empty().append(a)}}function computeAll(j,b,c,d){var g=$("."+j+' tbody tr td input[type="checkbox"]'),k=0,a=0;if(d=="ADD"){for(var e=0;e<g.size();e++){var h=parseFloat(g.eq(e).closest("tr").find("td").eq(8).text()),f=parseFloat(g.eq(e).closest("tr").find("td").eq(9).text());k=k+h;a=a+f}$("#"+b).empty().append(k);$("#"+c).empty().append(a);triggerComputation(k,a)}else{if(d=="SUBTRACT"){$("#"+c).empty().append("0");$("#"+b).empty().append("0");$("#recommendedContent").empty().append("Choose item(s) first")}}}function triggerComputation(b,a){startRecommendation("mainReco","recommendedContent",b,a)}function seaFreightLclComputation(a,c,b){var d=$("."+a+' tbody tr td input[type="checkbox"]');d.change(function(){var h=parseFloat($(this).closest("tr").find("td").eq(8).text()),g=parseFloat($(this).closest("tr").find("td").eq(9).text()),f=$("#"+c),e=$("#"+b);if($(this).is(":checked")){h=parseFloat(f.text())+h;g=parseFloat(e.text())+g;f.empty().append(h);e.empty().append(g)}else{h=parseFloat(f.text())-h;g=parseFloat(e.text())-g;f.empty().append(h);e.empty().append(g)}startRecommendation("mainReco","recommendedContent",h,g)})}function startRecommendation(a,b,d,c){if(d==0||c==0){$("#"+b).empty().append("Choose item(s) first")}else{var e;e=firstRecommendation(d,c);$("#"+b).empty().append(e)}}function firstRecommendation(e,f){var j=e,g=f,a=0,b=0,d=0,h=0,c="NONE";while(1){if(g<=0){break}else{if(g>53.2||j>15320){j=j-16890;g=g-74.1;a++}else{if(g>26.6||j>14870){j=j-15320;g=g-53.2;b++}else{if(g>13.3||j>7250){j=j-14870;g=g-26.6;d++}else{if(g>0||j>0){j=j-7250;g=g-13.3;h++}}}}}}if(a!=0){c="<p>"+a+" - 40 FOOTER HC CONTAINERS</p>"}if(b!=0){if(c=="NONE"){c="<p>"+b+" - 40 FOOTER STD CONTAINERS</p>"}else{c=c+"<p>"+b+" - 40 FOOTER STD CONTAINERS</p>"}}if(d!=0){if(c=="NONE"){c="<p>"+d+" - 20 FOOTER CONTAINERS</p>"}else{c=c+"<p>"+d+" - 20 FOOTER CONTAINERS</p>"}}if(h!=0){if(c=="NONE"){c="<p>"+h+" - 10 FOOTER CONTAINERS</p>"}else{c=c+"<p>"+h+" - 10 FOOTER CONTAINERS</p>"}}return c}function massCheckbox(b,a){$("#"+b).click(function(){var c=$("."+a+' tbody tr td input[type="checkbox"]');if(c.is(":checked")){c.prop("checked",false)}else{c.prop("checked",true)}})}function validationForm(b,a,e){var d=$("."+b+":enabled"),a=$("."+a);d.change(function(){c()});d.keyup(function(){c()});d.click(function(){c()});if(e=="BOOKING"){$(".notifBox").click(function(){c()})}function c(){console.clear();var f=$("."+b+":enabled");var g=0;for(var h=0;h<f.size();h++){if(f.eq(h).val()!=""&&f.eq(h).val()!=undefined){g++;console.log("- "+f.eq(h).val())}}console.log(g+" out of "+f.size());if(e=="BOOKING"){if(g==f.size()&&notifBox_booking("notifBox")){a.prop("disabled",false)}else{a.prop("disabled",true)}}else{if(g==f.size()){a.prop("disabled",false)}else{a.prop("disabled",true)}}}}function postAjaxHtml(c,b,d,a){$.ajax({url:c,type:"POST",dataType:"html",success:function(e){$("#"+b).html(e)},error:function(g,e,f){alert("An error occurred! "+f)}})}function showGateOutFields(a){$.ajax({url:"loadCheckoutFormPage",type:"POST",data:{containerIdParam:a},dataType:"html",success:function(b){$("#inputDiv").html(b)},error:function(d,b,c){alert("An error occurred! "+c)}})}function restrictField_Numbers(a){$("."+a).keypress(function(d){var b=[];var c=d.which;for(i=48;i<58;i++){b.push(i)}if(!(b.indexOf(c)>=0)){d.preventDefault()}})}function notifBox_booking(c){var a=false;for(var b=0;b<$("."+c).size();b++){if($("."+c).eq(b).is(":checked")){a=true}}return a}function validateSearchModal(b,c,d){$("."+c).keyup(function(){a()});$("."+d).change(function(){a()});function a(){console.clear();if($("."+c).val()!=""&&$("."+d).val()!=""){$("."+b).prop("disabled",false);console.log("ENABLE BUTTON")}else{$("."+b).prop("disabled",true);console.log("DISABLE BUTTON")}}};