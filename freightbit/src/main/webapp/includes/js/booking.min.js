function preventDuplicatePort(e,s){s.find("option").show(),s.find('option:contains("'+e.val()+'")').hide()}function getThis(){localStorage.setItem("ServiceReqField",$("#order_serviceRequirement").val()),localStorage.setItem("ServiceModeField",$("#order_modeOfService").val()),localStorage.setItem("FreightTypeField",$("#order_freightType").val()),localStorage.setItem("PaymentModeField",$("#order_modeOfPayment").val()),localStorage.setItem("CustNameField",$("#customerName").val()),localStorage.setItem("Pickdatefield",$("#datepicker1").val()),localStorage.setItem("Deldatefield",$("#datepicker2").val()),localStorage.setItem("OriginPortField",$("#select1").val()),localStorage.setItem("DestinationPortField",$("#select2").val()),localStorage.setItem("CommentsField",$("#Comments").val()),localStorage.setItem("PhoneField",$("#customerPhone_textfield").val()),localStorage.setItem("Mobilefield",$("#customerMobile_textfield").val()),localStorage.setItem("EmailField",$("#customerEmail_textfield").val()),localStorage.setItem("FaxField",$("#customerFax_textfield").val());for(var e=$(".notifBox"),s=0;s<e.size();s++)localStorage.setItem(e.eq(s).attr("name"),e.eq(s).val())}function setThis(){$("#order_serviceRequirement").val(localStorage.getItem("ServiceReqField")),$("#order_modeOfService").val(localStorage.getItem("ServiceModeField")),$("#order_freightType").val(localStorage.getItem("FreightTypeField")),$("#order_modeOfPayment").val(localStorage.getItem("PaymentModeField")),$("#customerName").val(localStorage.getItem("CustNameField")),$("#datepicker1").val(localStorage.getItem("Pickdatefield")),$("#datepicker2").val(localStorage.getItem("Deldatefield")),$("#select1").val(localStorage.getItem("OriginPortField")),$("#select2").val(localStorage.getItem("DestinationPortField")),$("#Comments").val(localStorage.getItem("CommentsField")),$("#customerPhone_textfield").val(localStorage.getItem("PhoneField")),$("#customerMobile_textfield").val(localStorage.getItem("Mobilefield")),$("#customerEmail_textfield").val(localStorage.getItem("EmailField")),$("#customerFax_textfield").val(localStorage.getItem("FaxField"));for(var e=$(".notifBox"),s=0;s<e.size();s++)$("."+e.eq(s).attr("name")).val(e.eq(s).val())}function dateSameValidation(){$(".nextBtnDateVal").click(function(){var e=new Date($(".pickupDateInput").val()),s=new Date($(".deliveryDateInput").val()),o=$("#order_modeOfService").val(),t=$(".pickupDateInput").val(),d=$(".deliveryDateInput").val(),a=/^(0[1-9]|1[012]|[1-9])[- /.](0[1-9]|[12][0-9]|3[01]|[1-9])[- /.](19|20)\d\d$/,i=$(".addOrderForm");if(0==$("input[type=checkbox]:checked").length)return $("#checkBoxModal").modal("show"),!1;if(e.setHours(0,0,0,0)==s.setHours(0,0,0,0)){var r="Pickup Date and Delivery Date is the same, are you sure you wish to proceed?";return $("#dateSameWarningModalBody").empty().append(r),$("#dateSameWarningModal").modal("show"),!1}if(null===t.match(a)){if("DELIVERY"!=o)return alert("ERROR! Pickup Date is not a valid date (MM/DD/YYYY)"),!1;i.submit()}else{if(null!==d.match(a))return i.submit(),!0;if("PICKUP"!=o)return alert("ERROR! Delivery Date is not a valid date (MM/DD/YYYY)"),!1;i.submit()}})}function dynamicDropdown(e,s){for(var o=e.options,t=o.length,d=$(".userType").val(),a=$("#order_freightType").val();t--;)o[t].disabled=!1;if("REGULAR CUSTOMER"==d&&$("#order_serviceRequirement").click(function(){"SHIPPING"==a?($("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").prop("disabled",!0),$(".addAddressItems").prop("disabled",!0),$(".addAddressItems").addClass("disabled")):($("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$(".addAddressItems").prop("disabled",!1),$(".addAddressItems").removeClass("disabled"))}),"REGULAR CUSTOMER"!=d)switch(e.options[s].value){case"DOOR TO PIER":$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperContact").empty(),$("#shipperAddress").prop("disabled",!1),$("#shipperAddress").val(""),$("#shipperAddress").empty(),$("#shipperConsignee").val(""),$("#shipperConsignee").empty(),$("#consigneeAddress").val(""),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0),$("#consigneeContact").val(""),$("#consigneeContact").empty(),$("#customerPhone_textfield").val(""),$("#customerMobile_textfield").val(""),$("#customerEmail_textfield").val(""),$("#customerFax_textfield").val("");break;case"PIER TO DOOR":$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperContact").empty(),$("#shipperAddress").prop("disabled",!0),$("#shipperAddress").val(""),$("#shipperAddress").empty(),$("#shipperConsignee").val(""),$("#shipperConsignee").empty(),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress").val(""),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeContact").val(""),$("#consigneeContact").empty(),$("#customerPhone_textfield").val(""),$("#customerMobile_textfield").val(""),$("#customerEmail_textfield").val(""),$("#customerFax_textfield").val("");break;default:$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperContact").empty(),$("#shipperAddress").prop("disabled",!1),$("#shipperAddress").val(""),$("#shipperAddress").empty(),$("#shipperConsignee").val(""),$("#shipperConsignee").empty(),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress").val(""),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeContact").val(""),$("#consigneeContact").empty(),$("#customerPhone_textfield").val(""),$("#customerMobile_textfield").val(""),$("#customerEmail_textfield").val(""),$("#customerFax_textfield").val("")}else switch(e.options[s].value){case"DOOR TO PIER":$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").prop("disabled",!0);break;case"PIER TO DOOR":$("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1);break;default:$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1)}if("REGULAR CUSTOMER"!=d)switch(e.options[s].value){case"PICKUP":$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperContact").empty(),$("#datepicker2").prop("disabled",!0),$("#datepicker1").prop("disabled",!1),$("#datepicker2").val(""),$("#datepicker1").val(""),$("#shipperAddress").prop("disabled",!1),$("#shipperAddress").val(""),$("#shipperAddress").empty(),$("#shipperConsignee").val(""),$("#shipperConsignee").empty(),$("#consigneeAddress").val(""),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0);break;case"DELIVERY":$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperContact").empty(),$("#datepicker1").prop("disabled",!0),$("#datepicker2").prop("disabled",!1),$("#datepicker2").val(""),$("#datepicker1").val(""),$("#shipperAddress").prop("disabled",!0),$("#shipperAddress").val(""),$("#shipperAddress").empty(),$("#shipperConsignee").val(""),$("#shipperConsignee").empty(),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress").val("");break;case"INTER-WAREHOUSE":$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperContact").empty(),$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!1),$("#datepicker2").val(""),$("#datepicker1").val("")}else switch(e.options[s].value){case"PICKUP":$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").prop("disabled",!0);break;case"DELIVERY":$("#datepicker1").prop("disabled",!0),$("#datepicker2").prop("disabled",!1),$("#shipperAddress").prop("disabled",!0),$(".addAddressItems").prop("disabled",!0),$(".addAddressItems").addClass("disabled"),$("#consigneeAddress").prop("disabled",!1);break;case"INTER-WAREHOUSE":$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!1)}if("PIER TO PIER"===e.options[s].value){for(var i=0;i<sType.options.length;i++)"SHIPPING"==sType.options[i].value&&(sType.options[i].disabled=!1,sType.options[i].selected=!0);$("#customerName").val(""),$("#shipperContact").val(""),$("#shipperAddress").prop("disabled",!0),$("#shipperAddress").val(""),$("#shipperConsignee").val(""),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress").val(""),$("#consigneeAddress_textfield").prop("disabled",!0),$("#consigneeAddress_textfield").val("")}else for(var i=0;i<sType.options.length;i++)"SHIPPING AND TRUCKING"==sType.options[i].value&&(sType.options[i].disabled=!1);if("SHIPPING"===e.options[s].value){var r=$(".originPort");$("#select1").val(""),$("#select2").val(""),r.empty().append("Origin Port"),$("#datepicker1").val(""),$("#datepicker2").val(""),$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!1),$("#select1").prop("disabled",!1),$("#select2").prop("disabled",!1),$("#order_modeOfPayment").val(""),$("#order_modeOfPayment").val(""),$("#Comments").val(""),"REGULAR CUSTOMER"!=d&&($("#customerPhone_textfield").val(""),$("#customerMobile_textfield").val(""),$("#customerEmail_textfield").val(""),$("#customerFax_textfield").val(""),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeContact").val(""));for(var i=0;i<sMode.options.length;i++)"PIER TO PIER"==sMode.options[i].value?(sMode.options[i].style.display="block",sMode.options[i].selected=!0,$("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0)):sMode.options[i].style.display="none";for(var i=0;i<sReq.options.length;i++)$("#order_serviceRequirement").val(""),sReq.options[i].style.display="FULL TRUCK LOAD"==sReq.options[i].value||"LESS TRUCK LOAD"==sReq.options[i].value?"none":"block"}if("SHIPPING AND TRUCKING"===e.options[s].value){var r=$(".originPort");$("#select1").val(""),$("#select1").prop("disabled",!1),$("#select2").val(""),$("#select2").prop("disabled",!1),r.empty().append("Origin Port"),$("#datepicker1").val(""),$("#datepicker1").prop("disabled",!1),$("#datepicker2").val(""),$("#datepicker2").prop("disabled",!1),$("#order_modeOfService").val(""),$("#order_modeOfPayment").val(""),$("#Comments").val("");var n=$("#shipperAddress").val(),l=$("#consigneeAddress option:selected").text();"REGULAR CUSTOMER"!=d&&($("#customerPhone_textfield").val(""),$("#customerMobile_textfield").val(""),$("#customerEmail_textfield").val(""),$("#customerFax_textfield").val(""),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeContact").val(""));for(var i=0;i<sMode.options.length;i++)$("#order_modeOfService").val(""),"DOOR TO DOOR"==sMode.options[i].value?(sMode.options[i].style.display="block",$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1)):"DOOR TO PIER"==sMode.options[i].value?(sMode.options[i].style.display="block",$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0)):"PIER TO DOOR"==sMode.options[i].value?(sMode.options[i].style.display="block",$("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1)):(sMode.options[i].style.display="none","REGULAR CUSTOMER"==d&&($("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("#shipperAddress").val(n),$("#consigneeAddress_textfield").val(l)));for(var i=0;i<sReq.options.length;i++)$("#order_serviceRequirement").val(""),"FULL TRUCK LOAD"==sReq.options[i].value||"LESS TRUCK LOAD"==sReq.options[i].value?sReq.options[i].style.display="none":(sReq.options[i].style.display="block","REGULAR CUSTOMER"==d&&($("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("#shipperAddress").val(n),$("#consigneeAddress_textfield").val(l)))}if("TRUCKING"===e.options[s].value){var r=$(".originPort");$("#select1").val(""),$("#select2").val(""),r.empty().append("Location"),$("#select2").prop("disabled",!0),$("#datepicker1").val(""),$("#datepicker2").val(""),$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!1),$("#order_modeOfPayment").val(""),$("#Comments").val(""),"REGULAR CUSTOMER"!=d&&($("#customerPhone_textfield").val(""),$("#customerMobile_textfield").val(""),$("#customerEmail_textfield").val(""),$("#customerFax_textfield").val(""),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeContact").val(""));for(var l=$("#consigneeAddress option:selected").text(),i=0;i<sMode.options.length;i++)$("#order_modeOfService").val(""),"PICKUP"==sMode.options[i].value?(sMode.options[i].style.display="block",$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0)):"DELIVERY"==sMode.options[i].value?(sMode.options[i].style.display="block",$("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1)):"INTER-WAREHOUSE"==sMode.options[i].value?(sMode.options[i].style.display="block",$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!1)):(sMode.options[i].style.display="none","REGULAR CUSTOMER"==d&&($("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeAddress_textfield").val(l)));for(var i=0;i<sReq.options.length;i++)$("#order_serviceRequirement").val(""),"FULL TRUCK LOAD"==sReq.options[i].value||"LESS TRUCK LOAD"==sReq.options[i].value?sReq.options[i].style.display="block":(sReq.options[i].style.display="none","REGULAR CUSTOMER"==d&&($("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("#consigneeAddress_textfield").val(l)))}}var fromDatePickUp=$("#datepicker1"),toDateDelivery=$("#datepicker2"),ServiceValue=$("#order_modeOfService");fromDatePickUp.datepicker({timeFormat:"h:mm TT",format:"d.m.Y",maxDate:"+9m +9w",onClose:function(){if("PICKUP"!=ServiceValue.val()&&""!=toDateDelivery.val()){var e=fromDatePickUp.datetimepicker("getDate"),s=toDateDelivery.datetimepicker("getDate");e>s&&toDateDelivery.datetimepicker("setDate",e)}},onSelect:function(){toDateDelivery.datetimepicker("option","minDate",fromDatePickUp.datetimepicker("getDate"))}}),toDateDelivery.datepicker({timeFormat:"h:mm TT",onClose:function(){if("DELIVERY"!=ServiceValue.val()&&""!=fromDatePickUp.val()){var e=fromDatePickUp.datetimepicker("getDate"),s=toDateDelivery.datetimepicker("getDate");e>s&&fromDatePickUp.datetimepicker("setDate",s)}},onSelect:function(){fromDatePickUp.datetimepicker("option","maxDate",toDateDelivery.datetimepicker("getDate"))}}),$(document).ready(function(){function e(e){var s=$(".deliveryDateLabel"),o=$(".pickupDateLabel"),t=$(".deliveryDateInput"),d=$(".pickupDateInput");switch(e){case"PIER TO DOOR":s.empty().append('Delivery Date<span class="asterisk_red"></span>'),t.attr("placeholder","Select Delivery date"),o.empty().append('Acceptance Date<span class="asterisk_red"></span>'),d.attr("placeholder","Select Acceptance date");break;case"DOOR TO PIER":s.empty().append('Release Date<span class="asterisk_red"></span>'),t.attr("placeholder","Select Release date"),o.empty().append('Pickup Date<span class="asterisk_red"></span>'),d.attr("placeholder","Select Pickup date");break;case"PIER TO PIER":s.empty().append('Release Date<span class="asterisk_red"></span>'),t.attr("placeholder","Select Release date"),o.empty().append('Acceptance Date<span class="asterisk_red"></span>'),d.attr("placeholder","Select Acceptance date");break;default:o.empty().append('Pickup Date<span class="asterisk_red"></span>'),d.attr("placeholder","Select Pickup date"),s.empty().append('Delivery Date<span class="asterisk_red"></span>'),t.attr("placeholder","Select Delivery date")}}$(".bookingInput").hover(function(){null!=$("#consigneeContact").val()?$("#id_Consignee").attr("disabled",!0):$("#id_Consignee").attr("disabled",!1)}),$(".serviceModeDropdown").change(function(){$(".addAddressItems").prop("disabled",!0),"PIER TO DOOR"==$(this).val()||"PIER TO PIER"==$(this).val()?($(".addAddressItems").prop("disabled",!0),$(".addAddressItems").addClass("disabled")):($(".addAddressItems").prop("disabled",!1),$(".addAddressItems").removeClass("disabled"))}),$(".basicInfoInput").change(function(){$(".notifBox").attr("checked",!1)}),$(".serviceModeDropdown").change(function(){e($(this).val())}),$(".freightTypeField").change(function(){"SHIPPING"==$(this).val()&&e("PIER TO PIER")}),$("#customerName").change(function(){$(".overlay").fadeIn();var e=$("#customerName").val();$.getJSON("customerAction",{async:!1,customerID:e},function(s){$("#ajaxResponse").text(s.dummyMsg);{var o=$("#shipperContact"),t=$("#shipperAddress"),d=$("#shipperConsignee"),a=$("#consigneeAddress"),i=$("#customerPhone"),r=$("#customerMobile"),n=$("#customerEmail"),l=$("#customerFax"),p=$("#consigneeContact");$(".userType").val()}o.find("option").remove(),t.find("option").remove(),d.find("option").remove(),a.find("option").remove(),i.find("option").remove(),r.find("option").remove(),n.find("option").remove(),l.find("option").remove(),p.find("option").remove(),$.each(s.customerContactsMap,function(e,s){$("<option>").val(e).text(s).appendTo(o)}),$.each(s.customerAddressMap,function(e,s){switch($("#order_modeOfService").val()){case"DOOR TO PIER":t.prop("disabled",!1),a.prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0),$("<option>").val(e).text(s).appendTo(t);break;case"PIER TO DOOR":t.prop("disabled",!0),a.prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1);break;case"PIER TO PIER":a.prop("disabled",!0),t.prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0);break;case"PICKUP":t.prop("disabled",!1),a.prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0),$("<option>").val(e).text(s).appendTo(t);break;case"DELIVERY":a.prop("disabled",!1),t.prop("disabled",!0),$("#consigneeAddress_textfield").prop("disabled",!1);break;default:t.prop("disabled",!1),a.prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("<option>").val(e).text(s).appendTo(t)}}),$.each(s.customerConsigneeMap,function(e,s){$("<option>").val(e).text(s).appendTo(d)}),""!=a.val()?("PIER TO PIER"==$("#order_modeOfService").val()||"DOOR TO PIER"==$("#order_modeOfService").val()||"PICKUP"==$("#order_modeOfService").val())&&$.each(s.consigneeAddressMap,function(){$("<option>").val(null).text("").appendTo(a),$("#consigneeAddress_textfield").val("")}):$.each(s.consigneeAddressMap,function(e,s){$("<option>").val(e).text(s).appendTo(a),$("#consigneeAddress_textfield").val(s)}),$.each(s.customerPhoneMap,function(e,s){$("<option>").val(e).text(s).appendTo(i),$("#customerPhone_textfield").val($("#customerPhone").val())}),$.each(s.customerMobileMap,function(e,s){$("<option>").val(e).text(s).appendTo(r),$("#customerMobile_textfield").val($("#customerMobile").val())}),$.each(s.customerEmailMap,function(e,s){$("<option>").val(e).text(s).appendTo(n),$("#customerEmail_textfield").val($("#customerEmail").val())}),$.each(s.customerFaxMap,function(e,s){$("<option>").val(e).text(s).appendTo(l),$("#customerFax_textfield").val($("#customerFax").val())});var c=$("#shipperConsignee").val();$.getJSON("consigneeAction",{async:!1,customerID:e,consigneeId:c},function(e){var s=$("#consigneeAddress"),o=$("#consigneeContact");s.find("option").remove(),o.find("option").remove(),$.each(e.consigneeAddressMap,function(e,o){("DOOR TO DOOR"==$("#order_modeOfService").val()||"PIER TO DOOR"==$("#order_modeOfService").val()||"DELIVERY"==$("#order_modeOfService").val()||"INTER-WAREHOUSE"==$("#order_modeOfService").val())&&(""!=$("#shipperConsignee").val()?($("<option>").val(e).text(o).appendTo(s),$("#consigneeAddress_textfield").val(o)):""!=$("#consigneeAddress").val()&&$("<option>").val(null).text("").appendTo(s))}),$.each(e.consigneeContactMap,function(e,s){$("<option>").val(e).text(s).appendTo(o)})}),$(".overlay").fadeOut()})}),$("#shipperConsignee").change(function(){$(".overlay").fadeIn();var e=$("#customerName").val(),s=$("#shipperConsignee").val();$.getJSON("consigneeAction",{async:!1,customerID:e,consigneeId:s},function(e){var s=$("#consigneeAddress"),o=$("#consigneeContact");s.find("option").remove(),o.find("option").remove(),$.each(e.consigneeAddressMap,function(e,o){var t=$(".userType").val();"REGULAR CUSTOMER"!=t?("DOOR TO DOOR"==$("#order_modeOfService").val()||"PIER TO DOOR"==$("#order_modeOfService").val()||"PICKUP"==$("#order_modeOfService").val()||"DELIVERY"==$("#order_modeOfService").val()||"INTER-WAREHOUSE"==$("#order_modeOfService").val())&&(""!=$("#shipperConsignee").val()?($("<option>").val(e).text(o).appendTo(s),$("#consigneeAddress_textfield").val(o)):(""!=$("#consigneeAddress").val()&&$("<option>").val(null).text("").appendTo(s),$("<option>").val(e).text(o).appendTo(s))):""!=$("#shipperConsignee").val()?($("<option>").val(e).text(o).appendTo(s),$("#consigneeAddress_textfield").val(o)):(""!=$("#consigneeAddress").val()&&$("<option>").val(null).text("").appendTo(s),$("<option>").val(e).text(o).appendTo(s))}),$.each(e.consigneeContactMap,function(e,s){$("<option>").val(e).text(s).appendTo(o)}),$(".overlay").fadeOut()})}),$("#consigneeAddress").change(function(){$(".overlay").fadeIn();var e=$("#customerName").val(),s=$("#consigneeAddress").val();$.getJSON("addressAction",{async:!1,customerID:e,addressId:s},function(e){var s=$("#shipperConsignee");s.find("option").remove(),$.each(e.customerConsigneeMap,function(e,o){""!=$("#consigneeAddress").val()?$("<option>").val(e).text(o).appendTo(s):(""!=$("#shipperConsignee").val()&&$("<option>").val(null).text("").appendTo(s),$("<option>").val(e).text(o).appendTo(s))}),$(".overlay").fadeOut()})})});var sReq=select=document.getElementById("order_serviceRequirement"),sType=select=document.getElementById("order_freightType"),sMode=select=document.getElementById("order_modeOfService");$(window).load(function(){setThis();for(var e=0;e<sMode.options.length;e++)sMode.options[e].style.display="SHIPPING AND TRUCKING"==document.getElementById("order_freightType").value?"DOOR TO DOOR"==sMode.options[e].value||"DOOR TO PIER"==sMode.options[e].value||"PIER TO DOOR"==sMode.options[e].value?"block":"none":"TRUCKING"==document.getElementById("order_freightType").value?"PICKUP"==sMode.options[e].value||"DELIVERY"==sMode.options[e].value||"INTER-WAREHOUSE"==sMode.options[e].value?"block":"none":"PIER TO PIER"==sMode.options[e].value?"block":"none";for(var e=0;e<sReq.options.length;e++)sReq.options[e].style.display="TRUCKING"!=document.getElementById("order_freightType").value?"FULL TRUCK LOAD"==sReq.options[e].value||"LESS TRUCK LOAD"==sReq.options[e].value?"none":"block":"FULL TRUCK LOAD"==sReq.options[e].value||"LESS TRUCK LOAD"==sReq.options[e].value?"block":"none"}),sReq.onchange=function(){dynamicDropdown.call(this,sReq,this.selectedIndex)},sType.onchange=function(){dynamicDropdown.call(this,sType,this.selectedIndex)},sMode.onchange=function(){dynamicDropdown.call(this,sMode,this.selectedIndex)};var select1=select=document.getElementById("select1"),select2=select=document.getElementById("select2");select2.value="",select1.onchange=function(){preventDuplicatePort($("#select1"),$("#select2"))},select2.onchange=function(){preventDuplicatePort($("#select2"),$("#select1"))},$(document).ready(function(){$("#idCustomer").click(function(){var e=$("#customerName").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):void $("#custIdHolder").val(e)})}),$(document).ready(function(){$("#idAddress").click(function(){var e=$("#customerName").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):void $("#custAddIdHolder").val(e)})}),$(document).ready(function(){$("#idConsignee").click(function(){var e=$("#customerName").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):void $("#consigneeAddIdHolder").val(e)})}),$(document).ready(function(){$("#id_Customer").click(function(){var e=$("#customerName").val(),s=$("#customerPhone").val(),o=$("#customerMobile").val(),t=$("#customerEmail").val(),d=$("#customerFax").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):($("#customerIdHolder").val(e),$("#customer_phone").val(s),$("#customer_mobile").val(o),$("#customer_email").val(t),void $("#customer_fax").val(d))})}),$(document).ready(function(){$("#id_Consignee").click(function(){var e=$("#shipperConsignee").val();return getThis(),null==e?(alert("Select Consignee First"),!1):void $("#consigneeIdHolder").val(e)})}),$(document).ready(function(){for(var e=$(".notifBox"),s=0;s<e.size();s++)localStorage.setItem(e.eq(s).attr("data-name"),e.eq(s).prop("checked"));e.click(function(){localStorage.setItem($(this).attr("data-name"),$(this).prop("checked"))})}),$(document).ready(function(){$(window).load(function(){var e=$(".userType").val();"REGULAR CUSTOMER"==e&&$("#customerName option[value='']").remove();var s=$("#customerName").val();$.getJSON("customerAction",{customerID:s},function(e){var o=$("#shipperContact"),t=$("#shipperAddress"),d=$("#shipperConsignee"),a=$("#consigneeAddress"),i=$("#customerPhone"),r=$("#customerMobile"),n=$("#customerEmail"),l=$("#customerFax"),p=$("#consigneeContact");o.find("option").remove(),t.find("option").remove(),d.find("option").remove(),a.find("option").remove(),i.find("option").remove(),r.find("option").remove(),n.find("option").remove(),l.find("option").remove(),p.find("option").remove(),$.each(e.customerContactsMap,function(e,s){$("<option>").val(e).text(s).appendTo(o)}),$.each(e.customerAddressMap,function(e,s){var o=$(".originPort");switch($("#order_modeOfService").val()){case"DOOR TO PIER":t.prop("disabled",!1),a.prop("disabled",!0),$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0),$("<option>").val(e).text(s).appendTo(t);break;case"PIER TO DOOR":t.prop("disabled",!0),a.prop("disabled",!1),$("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1);break;case"PIER TO PIER":a.prop("disabled",!0),t.prop("disabled",!0),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").prop("disabled",!0),$("#shipperAddress").prop("disabled",!0);break;case"PICKUP":t.prop("disabled",!1),a.prop("disabled",!0),$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!0),o.empty().append("Location"),$("#select1").prop("disabled",!1),$("#select2").prop("disabled",!0),$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").val(""),$("#consigneeAddress").prop("disabled",!0),$("#consigneeAddress_textfield").val(""),$("#consigneeAddress_textfield").prop("disabled",!0),$("<option>").val(e).text(s).appendTo(t);break;case"DELIVERY":a.prop("disabled",!1),t.prop("disabled",!0),$("#datepicker1").prop("disabled",!0),$("#datepicker2").prop("disabled",!1),o.empty().append("Location"),$("#select1").prop("disabled",!1),$("#select2").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("#shipperAddress").prop("disabled",!0);break;case"INTER-WAREHOUSE":a.prop("disabled",!0),t.prop("disabled",!0),$("#datepicker1").prop("disabled",!1),$("#datepicker2").prop("disabled",!1),o.empty().append("Location"),$("#select1").prop("disabled",!1),$("#select2").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("#shipperAddress").prop("disabled",!1),$("<option>").val(e).text(s).appendTo(t);break;default:t.prop("disabled",!1),a.prop("disabled",!1),$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("#consigneeAddress_textfield").prop("disabled",!1),$("<option>").val(e).text(s).appendTo(t)}}),$.each(e.customerConsigneeMap,function(e,s){$("<option>").val(e).text(s).appendTo(d)}),$.each(e.customerPhoneMap,function(e,s){$("<option>").val(e).text(s).appendTo(i);var o=$("#customerPhone").val();document.getElementById("customerPhone_textfield").value=o}),$.each(e.customerMobileMap,function(e,s){$("<option>").val(e).text(s).appendTo(r);var o=$("#customerMobile").val();document.getElementById("customerMobile_textfield").value=o}),$.each(e.customerEmailMap,function(e,s){$("<option>").val(e).text(s).appendTo(n);var o=$("#customerEmail").val();document.getElementById("customerEmail_textfield").value=o}),$.each(e.customerFaxMap,function(e,s){$("<option>").val(e).text(s).appendTo(l);var o=$("#customerFax").val();document.getElementById("customerFax_textfield").value=o});var c=$("#shipperConsignee").val();$.getJSON("consigneeAction",{customerID:s,consigneeId:c},function(e){var s=$("#consigneeAddress"),o=$("#consigneeContact");s.find("option").remove(),o.find("option").remove(),$.each(e.consigneeAddressMap,function(e,o){""!=$("#shipperConsignee").val()?($("<option>").val(e).text(o).appendTo(s),$("#consigneeAddress_textfield").val(o)):(""!=$("#consigneeAddress").val()&&$("<option>").val(null).text("").appendTo(s),$("<option>").val(e).text(o).appendTo(s))}),$.each(e.consigneeContactMap,function(e,s){$("<option>").val(e).text(s).appendTo(o)})})}),localStorage.clear()})}),$(document).ready(function(){dateSameValidation();var e=$(".addOrderForm");$(".btnNextSubmit").click(function(){e.submit()}),$("#contact_phone").mask("(999) 999-9999"),$("#customer_phone").mask("(999) 999-9999"),$("#contact_mobile").mask("(+63999)(999-9999)"),$("#customer_mobile").mask("(+63999)(999-9999)"),$("#contact_fax").mask("(999) 999-9999"),$("#consignee_phone").mask("(999) 999-9999"),$("#consignee_mobile").mask("(+63999)(999-9999)"),$("#consignee_fax").mask("(999) 999-9999"),$("#customer_fax").mask("(999) 999-9999"),$("#consignee_contact_phone").mask("(999) 999-9999"),$("#consignee_contact_mobile").mask("(+63999)(999-9999)"),$("#consignee_contact_fax").mask("(999) 999-9999"),validationForm("bookingInput","nextBtnDateVal","BOOKING")});