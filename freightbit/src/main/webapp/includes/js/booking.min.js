function preventDuplicatePort(e,o){var t=e.options,a=t.length,n=$("#order_freightType").val();if("TRUCKING"!=n){for(;a--;)t[a].disabled=!1;e.options[o].disabled=!0,o===e.selectedIndex&&(alert('You already selected the same port "'+e.options[o].text+'". Please choose another'),this.selectedIndex=0,select2.value="")}}function getThis(){localStorage.setItem("ServiceReqField",$("#order_serviceRequirement").val()),localStorage.setItem("ServiceModeField",$("#order_modeOfService").val()),localStorage.setItem("FreightTypeField",$("#order_freightType").val()),localStorage.setItem("PaymentModeField",$("#order_modeOfPayment").val()),localStorage.setItem("CustNameField",$("#customerName").val()),localStorage.setItem("Pickdatefield",$("#datepicker1").val()),localStorage.setItem("Deldatefield",$("#datepicker2").val()),localStorage.setItem("OriginPortField",$("#select1").val()),localStorage.setItem("DestinationPortField",$("#select2").val()),localStorage.setItem("NotificationField",$("#notification_type").val()),localStorage.setItem("CommentsField",$("#Comments").val()),localStorage.setItem("PhoneField",$("#customerPhone_textfield").val()),localStorage.setItem("Mobilefield",$("#customerMobile_textfield").val()),localStorage.setItem("EmailField",$("#customerEmail_textfield").val()),localStorage.setItem("FaxField",$("#customerFax_textfield").val())}function setThis(){$("#order_serviceRequirement").val(localStorage.getItem("ServiceReqField")),$("#order_modeOfService").val(localStorage.getItem("ServiceModeField")),$("#order_freightType").val(localStorage.getItem("FreightTypeField")),$("#order_modeOfPayment").val(localStorage.getItem("PaymentModeField")),$("#customerName").val(localStorage.getItem("CustNameField")),$("#datepicker1").val(localStorage.getItem("Pickdatefield")),$("#datepicker2").val(localStorage.getItem("Deldatefield")),$("#select1").val(localStorage.getItem("OriginPortField")),$("#select2").val(localStorage.getItem("DestinationPortField")),$("#notification_type").val(localStorage.getItem("NotificationField")),$("#Comments").val(localStorage.getItem("CommentsField")),$("#customerPhone_textfield").val(localStorage.getItem("PhoneField")),$("#customerMobile_textfield").val(localStorage.getItem("Mobilefield")),$("#customerEmail_textfield").val(localStorage.getItem("EmailField")),$("#customerFax_textfield").val(localStorage.getItem("FaxField"))}$(document).ready(function(){$("#customerName").change(function(){var e=$("#customerName").val();$.getJSON("customerAction",{customerID:e},function(e){$("#ajaxResponse").text(e.dummyMsg);var o=$("#shipperContact"),t=$("#shipperAddress"),a=$("#shipperConsignee"),n=$("#consigneeAddress"),i=$("#customerPhone"),l=$("#customerMobile"),r=$("#customerEmail"),s=$("#customerFax"),c=$("#consigneeContact");o.find("option").remove(),t.find("option").remove(),a.find("option").remove(),n.find("option").remove(),i.find("option").remove(),l.find("option").remove(),r.find("option").remove(),s.find("option").remove(),c.find("option").remove(),$.each(e.customerContactsMap,function(e,t){$("<option>").val(e).text(t).appendTo(o)}),$.each(e.customerAddressMap,function(e,o){switch($("#order_modeOfService").val()){case"DOOR TO PIER":t.prop("disabled",!1),n.prop("disabled",!0),$("<option>").val(e).text(o).appendTo(t);break;case"PIER TO DOOR":t.prop("disabled",!0),n.prop("disabled",!1);break;case"PIER TO PIER":n.prop("disabled",!0),t.prop("disabled",!0);break;case"PICKUP":t.prop("disabled",!1),n.prop("disabled",!0),$("<option>").val(e).text(o).appendTo(t);break;case"DELIVERY":n.prop("disabled",!1),t.prop("disabled",!0);break;default:t.prop("disabled",!1),n.prop("disabled",!1),$("<option>").val(e).text(o).appendTo(t)}}),$.each(e.customerConsigneeMap,function(e,o){$("<option>").val(e).text(o).appendTo(a)}),$.each(e.consigneeAddressMap,function(e,o){""!=n.val()?(("PIER TO PIER"==$("#order_modeOfService").val()||"DOOR TO PIER"==$("#order_modeOfService").val()||"PICKUP"==$("#order_modeOfService").val())&&$("<option>").val(null).text("").appendTo(n),$("<option>").val(e).text(o).appendTo(n)):$("<option>").val(e).text(o).appendTo(n)}),$.each(e.customerPhoneMap,function(e,o){$("<option>").val(e).text(o).appendTo(i),$("#customerPhone_textfield").val($("#customerPhone").val())}),$.each(e.customerMobileMap,function(e,o){$("<option>").val(e).text(o).appendTo(l),$("#customerMobile_textfield").val($("#customerMobile").val())}),$.each(e.customerEmailMap,function(e,o){$("<option>").val(e).text(o).appendTo(r),$("#customerEmail_textfield").val($("#customerEmail").val())}),$.each(e.customerFaxMap,function(e,o){$("<option>").val(e).text(o).appendTo(s),$("#customerFax_textfield").val($("#customerFax").val())}),$.each(e.consigneeContactMap,function(e,o){$("<option>").val(e).text(o).appendTo(c)})})}),$("#shipperConsignee").change(function(){var e=$("#customerName").val(),o=$("#shipperConsignee").val();$.getJSON("consigneeAction",{customerID:e,consigneeId:o},function(e){var o=$("#consigneeAddress"),t=$("#consigneeContact");o.find("option").remove(),t.find("option").remove(),$.each(e.consigneeAddressMap,function(e,t){("DOOR TO DOOR"==$("#order_modeOfService").val()||"PIER TO DOOR"==$("#order_modeOfService").val()||"PICKUP"==$("#order_modeOfService").val()||"DELIVERY"==$("#order_modeOfService").val()||"INTER-WAREHOUSE"==$("#order_modeOfService").val())&&(""!=$("#shipperConsignee").val()?$("<option>").val(e).text(t).appendTo(o):(""!=$("#consigneeAddress").val()&&$("<option>").val(null).text("").appendTo(o),$("<option>").val(e).text(t).appendTo(o)))}),$.each(e.consigneeContactMap,function(e,o){$("<option>").val(e).text(o).appendTo(t)})})}),$("#consigneeAddress").change(function(){var e=$("#customerName").val(),o=$("#consigneeAddress").val();$.getJSON("addressAction",{customerID:e,addressId:o},function(e){var o=$("#shipperConsignee");o.find("option").remove(),$.each(e.customerConsigneeMap,function(e,t){""!=$("#consigneeAddress").val()?$("<option>").val(e).text(t).appendTo(o):(""!=$("#shipperConsignee").val()&&$("<option>").val(null).text("").appendTo(o),$("<option>").val(e).text(t).appendTo(o))})})});var e=$("#datepicker1"),o=$("#datepicker2"),t=$("#order_modeOfService");e.datepicker({timeFormat:"h:mm TT",minDate:0,onClose:function(){if("PICKUP"!=t.val()&&""!=o.val()){var a=e.datetimepicker("getDate"),n=o.datetimepicker("getDate");a>n&&o.datetimepicker("setDate",a)}},onSelect:function(){o.datetimepicker("option","minDate",e.datetimepicker("getDate"))}}),o.datepicker({timeFormat:"h:mm TT",minDate:0,onClose:function(){if("DELIVERY"!=t.val()&&""!=e.val()){var a=e.datetimepicker("getDate"),n=o.datetimepicker("getDate");a>n&&e.datetimepicker("setDate",n)}},onSelect:function(){e.datetimepicker("option","maxDate",o.datetimepicker("getDate"))}})});var sReq=select=document.getElementById("order_serviceRequirement"),sType=select=document.getElementById("order_freightType"),sMode=select=document.getElementById("order_modeOfService");$(window).load(function(){setThis();for(var e=0;e<sMode.options.length;e++)sMode.options[e].style.display="TRUCKING"!=document.getElementById("order_freightType").value?"PICKUP"==sMode.options[e].value||"DELIVERY"==sMode.options[e].value||"INTER-WAREHOUSE"==sMode.options[e].value?"none":"block":"PICKUP"==sMode.options[e].value||"DELIVERY"==sMode.options[e].value||"INTER-WAREHOUSE"==sMode.options[e].value?"block":"none";for(var e=0;e<sReq.options.length;e++)sReq.options[e].style.display="TRUCKING"!=document.getElementById("order_freightType").value?"FULL TRUCK LOAD"==sReq.options[e].value||"LESS TRUCK LOAD"==sReq.options[e].value?"none":"block":"FULL TRUCK LOAD"==sReq.options[e].value||"LESS TRUCK LOAD"==sReq.options[e].value?"block":"none"}),sReq.onchange=function(){dynamicDropdown.call(this,sReq,this.selectedIndex)},sType.onchange=function(){dynamicDropdown.call(this,sType,this.selectedIndex)},sMode.onchange=function(){dynamicDropdown.call(this,sMode,this.selectedIndex)};var select1=select=document.getElementById("select1"),select2=select=document.getElementById("select2");select2.value="",select1.onchange=function(){preventDuplicatePort.call(this,select2,this.selectedIndex)},select2.onchange=function(){preventDuplicatePort.call(this,select1,this.selectedIndex)},$(document).ready(function(){$("#idCustomer").click(function(){var e=$("#customerName").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):void $("#custIdHolder").val(e)})}),$(document).ready(function(){$("#idAddress").click(function(){var e=$("#customerName").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):void $("#custAddIdHolder").val(e)})}),$(document).ready(function(){$("#idConsignee").click(function(){var e=$("#customerName").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):void $("#consigneeAddIdHolder").val(e)})}),$(document).ready(function(){$("#id_Customer").click(function(){var e=$("#customerName").val(),o=$("#customerPhone").val(),t=$("#customerMobile").val(),a=$("#customerEmail").val(),n=$("#customerFax").val();return getThis(),""==e?(alert("Select Customer First"),$("#customerName").focus(),!1):($("#customerIdHolder").val(e),$("#customer_phone").val(o),$("#customer_mobile").val(t),$("#customer_email").val(a),void $("#customer_fax").val(n))})}),$(document).ready(function(){$("#id_Consignee").click(function(){var e=$("#shipperConsignee").val();return getThis(),null==e?(alert("Select Consignee First"),!1):void $("#consigneeIdHolder").val(e)})}),$(document).ready(function(){$(window).load(function(){var e=$("#customerName").val();$.getJSON("customerAction",{customerID:e},function(e){var o=$("#shipperContact"),t=$("#shipperAddress"),a=$("#shipperConsignee"),n=$("#consigneeAddress"),i=$("#customerPhone"),l=$("#customerMobile"),r=$("#customerEmail"),s=$("#customerFax"),c=$("#consigneeContact");o.find("option").remove(),t.find("option").remove(),a.find("option").remove(),n.find("option").remove(),i.find("option").remove(),l.find("option").remove(),r.find("option").remove(),s.find("option").remove(),c.find("option").remove(),$.each(e.customerContactsMap,function(e,t){$("<option>").val(e).text(t).appendTo(o)}),$.each(e.customerAddressMap,function(e,o){switch($("#order_modeOfService").val()){case"DOOR TO PIER":$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!0),$("<option>").val(e).text(o).appendTo(t);break;case"PIER TO DOOR":$("#shipperAddress").prop("disabled",!0),$("#consigneeAddress").prop("disabled",!1);break;case"PIER TO PIER":$("#consigneeAddress").prop("disabled",!0),$("#shipperAddress").prop("disabled",!0);break;case"PICKUP":$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!0),$("<option>").val(e).text(o).appendTo(t);break;case"DELIVERY":$("#consigneeAddress").prop("disabled",!1),$("#shipperAddress").prop("disabled",!0);break;default:$("#shipperAddress").prop("disabled",!1),$("#consigneeAddress").prop("disabled",!1),$("<option>").val(e).text(o).appendTo(t)}}),$.each(e.customerConsigneeMap,function(e,o){$("<option>").val(e).text(o).appendTo(a)}),$.each(e.consigneeAddressMap,function(e,o){""!=$("#consigneeAddress").val()?(("PIER TO PIER"==$("#order_modeOfService").val()||"DOOR TO PIER"==$("#order_modeOfService").val()||"DELIVERY"==$("#order_modeOfService").val())&&$("<option>").val(null).text("").appendTo(n),$("<option>").val(e).text(o).appendTo(n)):$("<option>").val(e).text(o).appendTo(n)}),$.each(e.customerPhoneMap,function(e,o){$("<option>").val(e).text(o).appendTo(i);var t=$("#customerPhone").val();document.getElementById("customerPhone_textfield").value=t}),$.each(e.customerMobileMap,function(e,o){$("<option>").val(e).text(o).appendTo(l);var t=$("#customerMobile").val();document.getElementById("customerMobile_textfield").value=t}),$.each(e.customerEmailMap,function(e,o){$("<option>").val(e).text(o).appendTo(r);var t=$("#customerEmail").val();document.getElementById("customerEmail_textfield").value=t}),$.each(e.customerFaxMap,function(e,o){$("<option>").val(e).text(o).appendTo(s);var t=$("#customerFax").val();document.getElementById("customerFax_textfield").value=t}),$.each(e.consigneeContactMap,function(e,o){$("<option>").val(e).text(o).appendTo(c)})}),localStorage.clear()})}),$(document).ready(function(){$("#contact_phone").mask("(999) 999-9999"),$("#customer_phone").mask("(999) 999-9999"),$("#contact_mobile").mask("(+63999)(999-9999)"),$("#customer_mobile").mask("(+63999)(999-9999)"),$("#contact_fax").mask("(999) 999-9999"),$("#consignee_phone").mask("(999) 999-9999"),$("#consignee_mobile").mask("(+63999)(999-9999)"),$("#consignee_fax").mask("(999) 999-9999"),$("#customer_fax").mask("(999) 999-9999"),$("#consignee_contact_phone").mask("(999) 999-9999"),$("#consignee_contact_mobile").mask("(+63999)(999-9999)"),$("#consignee_contact_fax").mask("(999) 999-9999"),validationForm("bookingInput","nextBtn","BOOKING")});